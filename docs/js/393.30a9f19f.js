(self["webpackChunkblobs"]=self["webpackChunkblobs"]||[]).push([[393],{1393:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>J});var r=o(3673);const i=(0,r.HX)("data-v-dc6878aa"),s=i(((e,t,o,s,l,a)=>{const n=(0,r.up)("buddies-component"),c=(0,r.up)("q-page");return(0,r.wg)(),(0,r.j4)(c,{class:"row items-center justify-evenly ummmm"},{default:i((()=>[(0,r.Wm)(n)])),_:1})})),l=(0,r.HX)("data-v-27754e4f");(0,r.dD)("data-v-27754e4f");const a={class:"game-canvas-container row"},n={class:"col"};(0,r.Cn)();const c=l(((e,t,o,i,s,l)=>{const c=(0,r.up)("buddies-controls");return(0,r.wg)(),(0,r.j4)("div",a,[(0,r.Wm)("div",{id:"p5-container",ref:"p5Container",class:"col buddies-plate",onSelectstart:t[1]||(t[1]=t=>e.doNothing(t))},null,544),(0,r.Wm)("div",n,[(0,r.Wm)(c)])])}));var d=o(5777),u=o(2297),h=o(930),p=o.n(h);class b{getGoals(e,t,o){const r=t.position;if(!r)return[];const i=[];return r.x<25&&i.push(e.createVector(t.maxSpeed,t.velocity.y)),r.x>e.width-25&&i.push(e.createVector(-t.maxSpeed,t.velocity.y)),r.y<25&&i.push(e.createVector(t.velocity.x,t.maxSpeed)),r.y>e.height-25&&i.push(e.createVector(t.velocity.x,-t.maxSpeed)),i}getForces(e,t,o){return[]}}class f{getGoals(e,t,o){return[]}getForces(e,t,o){const r=[];for(const i of o)if(t!==i)for(const o of i.body)r.push(this.repel(e,o.position,t.position));return r}repel(e,t,o){const r=h.Vector.sub(t,o),i=r.mag();if(i>500)return e.createVector();const s=-100/(i*i);return r.normalize(),r.mult(s),r}}class m{constructor(){Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ticks=0}getGoals(e,t,o){return[]}getForces(e,t,o){this.ticks++;const r=[];return r.push(h.Vector.random2D()),r}}function g(e){return e.color(e.random(100),e.random(50,100),e.random(50,100))}function y(){return[new b,new f,new m]}class v{constructor(e,t,o){Object.defineProperty(this,"p",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"position",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.color=o||g(e),this.color.setAlpha(.07)}render(){this.p.fill(this.color),this.p.stroke(this.p.color(0,0,100,.01)),this.p.strokeWeight(1),this.p.circle(this.position.x,this.position.y,this.position.z)}copy(e,t,o){const r=h.Vector.add(this.position,e);return r.z=t,new v(this.p,r,o)}}class w{constructor(e,t){Object.defineProperty(this,"p",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"age",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:h.Vector.random2D()}),Object.defineProperty(this,"acceleration",{enumerable:!0,configurable:!0,writable:!0,value:new h.Vector}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:15}),Object.defineProperty(this,"maxSpeed",{enumerable:!0,configurable:!0,writable:!0,value:this.size/3}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,writable:!0,value:20}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"colors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"secondaryColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"drives",{enumerable:!0,configurable:!0,writable:!0,value:y()}),Object.defineProperty(this,"stomach",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"stomachCapacity",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"calories",{enumerable:!0,configurable:!0,writable:!0,value:100}),this.colors=[this.p.color(316,58,99,.07),this.p.color(283,50,91,.07),this.p.color(257,45.1,100,.07),this.p.color(231,41.8,91,.07)],this.secondaryColor=g(e),this.secondaryColor.setAlpha(.2),t.z=this.velocity.mag(),this.body=[new v(e,t.copy(),this.colors[0])]}get position(){return this.body[0].position}draw(e){this.age++,this.move(e),this.renderBody()}renderBody(){this.p.noStroke();for(const e of this.body)e.render(),e.position.z*=.99;this.drawForce(this.velocity,this.position)}move(e){for(const t of this.drives){for(const o of t.getGoals(this.p,this,e))this.steer(o);for(const o of t.getForces(this.p,this,e))this.applyForce(o)}this.changeVelocity()}applyForce(e){e.div(this.size),this.acceleration.add(e)}drawForce(e,t){const o=p().Vector.mult(e,10).add(t);this.p.stroke(this.secondaryColor),this.p.strokeWeight(4),this.p.noFill(),this.p.line(t.x,t.y,o.x,o.y)}changeVelocity(){this.velocity.add(this.acceleration).limit(this.maxSpeed);while(this.body.length>=this.maxLength)this.body.pop();const e=Math.floor(this.age/10)%this.colors.length,t=this.colors[e],o=this.body[0].copy(this.velocity,2*this.size/this.p.max(this.velocity.mag(),1),t);this.body.unshift(o),this.acceleration.mult(0)}steer(e){e.sub(this.velocity),e.limit(3),this.applyForce(e)}}var x=o(5718),j=o(556),O=function(e,t,o,r){var i,s=arguments.length,l=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(s<3?i(l):s>3?i(t,o,l):i(t,o))||l);return s>3&&l&&Object.defineProperty(t,o,l),l};const V="gamestore";j.storeInstance.hasModule(V)&&j.storeInstance.unregisterModule(V);let P=class extends x.g4{constructor(){super(...arguments),Object.defineProperty(this,"maxBuddies",{enumerable:!0,configurable:!0,writable:!0,value:2}),Object.defineProperty(this,"fogValue",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"MAX_FOG_VALUE",{enumerable:!0,configurable:!0,writable:!0,value:10}),Object.defineProperty(this,"MAX_MAX_BUDDIES",{enumerable:!0,configurable:!0,writable:!0,value:50})}setMaxBuddies(e){this.maxBuddies=Math.max(0,Math.min(e,this.MAX_MAX_BUDDIES))}setFogValue(e){this.fogValue=Math.max(0,Math.min(e,this.MAX_FOG_VALUE))}alterFog(e){this.fogValue+=e}isItGettingDarker(){this.alterFog(1)}iThinkItsClearingUp(){this.alterFog(-1)}};O([x.mm],P.prototype,"setMaxBuddies",null),O([x.mm],P.prototype,"setFogValue",null),O([x.mm],P.prototype,"alterFog",null),O([x.aU],P.prototype,"isItGettingDarker",null),O([x.aU],P.prototype,"iThinkItsClearingUp",null),P=O([(0,x.Yl)({name:V,store:j.storeInstance,dynamic:!0,namespaced:!0})],P);const B=(0,x.rT)(P);class k{constructor(e){Object.defineProperty(this,"p",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"buddies",{enumerable:!0,configurable:!0,writable:!0,value:[]})}get maxBuddies(){return B.maxBuddies}clearSomeOfTheBuddies(){while(this.buddies.length>this.maxBuddies)this.buddies.shift()}makeAllTheBuddies(){while(this.buddies.length<this.maxBuddies)this.addNewBuddy()}addNewBuddy(e){const t=e||this.p.createVector(this.p.random(this.p.width),this.p.random(this.p.height));this.buddies.push(new w(this.p,t))}doTheThing(){this.buddies.forEach((e=>e.draw(this.buddies))),this.clearSomeOfTheBuddies(),this.makeAllTheBuddies()}}const C=e=>{const t=e.createVector();let o,r,i;const s=600,l=600;function a(){if(!r)return;const e=B.fogValue;if(10===e)return void r.background(r.color(0,0,0,1));const t=r.color(0,0,0,.05*e);r.background(t)}e.setup=()=>{e.createCanvas(s,l),r=e.createGraphics(s,l),r.colorMode(e.HSB,360,100,100,1),i=e.createGraphics(s,l),i.colorMode(e.HSB,360,100,100,1),o=new k(r)},e.draw=()=>{t.x=e.mouseX,t.y=e.mouseY,a(),null===o||void 0===o||o.doTheThing(),null===i||void 0===i||i.clear(),i&&e.mouseIsPressed&&(i.stroke(0,0,100,.8),i.strokeWeight(1),i.noFill(),i.circle(t.x,t.y,20),i.circle(t.x,t.y,10),e.noCursor());const r=null===o||void 0===o?void 0:o.p;r&&e.image(r,0,0),i&&e.image(i,0,0,s,l)},e.keyPressed=()=>{" "===e.key&&(null===r||void 0===r||r.background(r.color(0,0,0,1)))},e.mouseClicked=()=>{e.mouseX>0&&e.mouseX<e.width&&e.mouseY>0&&e.mouseY<e.height&&(null===o||void 0===o||o.addNewBuddy(e.createVector(e.mouseX,e.mouseY)))}};var F=o(5181);const M=(0,r.HX)("data-v-53fe969e");(0,r.dD)("data-v-53fe969e");const S={class:"game-controls row justify-evenly"},D={class:"column col justify-evenly"},I={class:"column col justify-evenly"};(0,r.Cn)();const W=M(((e,t,o,i,s,l)=>{const a=(0,r.up)("q-slider"),n=(0,r.up)("q-field");return(0,r.wg)(),(0,r.j4)("div",S,[(0,r.Wm)("div",D,[(0,r.Wm)(n,{filled:"",hint:`Max Buddies ${e.maxBuddies}`},{control:M((()=>[(0,r.Wm)(a,{modelValue:e.maxBuddies,"onUpdate:modelValue":t[1]||(t[1]=t=>e.maxBuddies=t),class:"col self-center buddies-slider",color:"red",step:1,min:0,max:50,label:"",dark:"",onWheel:e.maxBuddiesScroll},null,8,["modelValue","onWheel"])])),_:1},8,["hint"])]),(0,r.Wm)("div",I,[(0,r.Wm)(n,{filled:"",hint:`Fog ${e.fogValue}`},{control:M((()=>[(0,r.Wm)(a,{modelValue:e.fogValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.fogValue=t),class:"col self-center buddies-slider",color:"red",step:1,min:0,max:10,label:"",dark:"",onWheel:e.fogValueScroll},null,8,["modelValue","onWheel"])])),_:1},8,["hint"])])])}));var _=function(e,t,o,r){var i,s=arguments.length,l=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(s<3?i(l):s>3?i(t,o,l):i(t,o))||l);return s>3&&l&&Object.defineProperty(t,o,l),l};let A=class extends d.w3{get fogValue(){return B.fogValue}set fogValue(e){B.setFogValue(e)}get maxBuddies(){return B.maxBuddies}set maxBuddies(e){B.setMaxBuddies(e)}maxBuddiesScroll(e){this.maxBuddies=this.maxBuddies-Math.sign(e.deltaY)}fogValueScroll(e){this.fogValue=this.fogValue-Math.sign(e.deltaY)}};A=_([(0,d.Ei)({name:"Buddies Controls"})],A);const R=A;var T=o(7916),X=o(3872),G=o(7518),U=o.n(G);R.render=W,R.__scopeId="data-v-53fe969e";const z=R;U()(R,"components",{QField:T.Z,QSlider:X.Z});var H=function(e,t,o,r){var i,s=arguments.length,l=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(s<3?i(l):s>3?i(t,o,l):i(t,o))||l);return s>3&&l&&Object.defineProperty(t,o,l),l};const E=(0,F.uD)("gamestore");let Y=class extends d.w3{constructor(){super(...arguments),Object.defineProperty(this,"p5Container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"p5Handle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxBuddies",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"iThinkItsClearingUp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isItGettingDarker",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}mounted(){this.p5Handle||(this.p5Handle=new(p())(C,this.p5Container))}unmounted(){var e;null===(e=this.p5Handle)||void 0===e||e.noLoop()}doNothing(e){e.preventDefault()}};H([(0,u.Rl)()],Y.prototype,"p5Container",void 0),H([E.State],Y.prototype,"maxBuddies",void 0),H([E.Action],Y.prototype,"iThinkItsClearingUp",void 0),H([E.Action],Y.prototype,"isItGettingDarker",void 0),Y=H([(0,d.Ei)({name:"Buddies!",components:{BuddiesControls:z}})],Y);const L=Y;L.render=c,L.__scopeId="data-v-27754e4f";const N=L;var q=function(e,t,o,r){var i,s=arguments.length,l=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(s<3?i(l):s>3?i(t,o,l):i(t,o))||l);return s>3&&l&&Object.defineProperty(t,o,l),l};let Q=class extends d.w3{created(){}};Q=q([(0,d.Ei)({components:{BuddiesComponent:N}})],Q);const Z=Q;var $=o(4379);Z.render=s,Z.__scopeId="data-v-dc6878aa";const J=Z;U()(Z,"components",{QPage:$.Z})}}]);